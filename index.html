0000


<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub 留言板</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 20px auto; }
        input, textarea { width: 100%; margin: 10px 0; padding: 8px; }
        button { padding: 10px; background-color: blue; color: white; border: none; cursor: pointer; }
        .message { border: 1px solid #ddd; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>

    <h2>GitHub 留言板</h2>

    <!-- 留言輸入區 -->
    <input type="text" id="title" placeholder="請輸入標題">
    <textarea id="body" placeholder="請輸入留言內容"></textarea>
    <button onclick="submitMessage()">提交留言</button>

    <h3>留言列表</h3>
    <div id="messages"></div>

    <script>
        const repoOwner = "CHIN-LUNG71"; // 你的 GitHub 用戶名
        const repoName = "8ATEC"; // 你的儲存庫名稱
        const token = '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'; // 你的 GitHub Token
        const apiUrl = `https://api.github.com/repos/${repoOwner}/${repoName}/issues`;

        // 🚀 讀取留言（GitHub Issues）
        function loadMessages() {
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    let messagesContainer = document.getElementById("messages");
                    messagesContainer.innerHTML = ""; // 清空舊資料

                    data.forEach(issue => {
                        let messageElement = document.createElement("div");
                        messageElement.classList.add("message");
                        messageElement.innerHTML = `
                            <h3>${issue.title}</h3>
                            <p>${issue.body ? issue.body : "（沒有內容）"}</p>
                            <a href="${issue.html_url}" target="_blank">查看 GitHub Issue</a>
                        `;
                        messagesContainer.appendChild(messageElement);
                    });
                })
                .catch(error => console.error("Error loading messages:", error));
        }

        // 🚀 提交留言（新增 Issue）
        function submitMessage() {
            const title = document.getElementById("title").value;
            const body = document.getElementById("body").value;
            
            if (!title || !body) {
                alert("請輸入標題和內容");
                return;
            }

            fetch(apiUrl, {
                method: "POST",
                headers: {
                    "Authorization": `token ${token}`, // 使用 GitHub Token
                    "Accept": "application/vnd.github.v3+json",
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ title, body })
            })
            .then(response => response.json())
            .then(data => {
                console.log("Issue Created:", data);
                alert("留言成功！");
                document.getElementById("title").value = "";
                document.getElementById("body").value = "";
                loadMessages(); // 重新載入留言
            })
            .catch(error => console.error("Error:", error));
        }

        // 🚀 頁面載入時讀取留言
        loadMessages();
    </script>

</body>
</html>






